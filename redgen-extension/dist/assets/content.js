const p=()=>{var i,l;const t=document.querySelector("h1")||document.querySelector('[data-testid="product-title"]'),s=((i=t==null?void 0:t.textContent)==null?void 0:i.trim())||"",e=document.querySelector('[data-testid="product-description"]'),n=((l=e==null?void 0:e.textContent)==null?void 0:l.trim())||"",u=document.querySelectorAll('a[href*="/shop/"]'),c=[];u.forEach(o=>{var d;const r=(d=o.textContent)==null?void 0:d.trim();r&&r.length>2&&!r.includes("Shop")&&c.push(r)});const a=[...new Set(c)].slice(0,15).join(", ");return{title:s,description:n,tags:a}},g=t=>{var u,c;const s=(u=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:u.set,e=(c=Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value"))==null?void 0:c.set,n=(a,i,l=!1)=>{const o=document.querySelector(a);if(!o)return;o.focus();const r=l?e:s;r==null||r.call(o,i),o.dispatchEvent(new Event("input",{bubbles:!0})),o.dispatchEvent(new Event("change",{bubbles:!0})),o.blur()};n("#work_title_en",t.title),n("#work_tags",t.tags,!0),n("#work_description_en",t.description,!0)};console.log("ðŸ”´ RedGen Bridge Connected");chrome.runtime.onMessage.addListener((t,s,e)=>{if(t.type==="SCRAPE_PAGE"){const n=p();console.log("RedGen Scraped:",n),e({success:!0,data:n})}return t.type==="FILL_FORM"&&(console.log("RedGen Filling Form:",t.payload),g(t.payload),e({success:!0})),!0});
